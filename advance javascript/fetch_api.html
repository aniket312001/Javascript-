<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <script>

        fetch('textfile.txt').then((response)=>{  // it will share success msg
            return response.text()   
        }).then((data)=>{   // data 
        document.write(data)
        }).catch((err)=>{    // msg
            console.log(err)
        })


        fetch('textfile.txt').then(response=>response.text()).then(data=>document.write(data))



        fetch('https://jsonplaceholder.typicode.com/todos/1')
        .then(response => response.json())
        .then(json => console.log(json))


        fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => response.json())
        .then(json => {
            for(var i in json){
                console.log(json[i])
                document.write(`<br> ${json[i].name} - ${json[i].email} - city ${json[i].address.city} `)
                

            }
        })

        /*
        // insert update delete 
        fetch('https://jsonplaceholder.typicode.com/users',{
            method:"POST",  // reading data
            //method:"GET",   // defualt value for reading data
            //method:"PUT" , // update value
            //method:"DELETE",  // delete server value 

            body: data,
            header : {
                'Content-Type':'application/json',
                'Content-Type':'application/x-www-form-urlencoded',  // for form data
            },

        })
        .then(response => response.json())
        .then(json => {
            for(var i in json){
                console.log(json[i])
                document.write(`<br> ${json[i].name} - ${json[i].email} - city ${json[i].address.city} `)
                

            }
        })
        */


        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify({
            title: 'foo',
            body: 'bar',
            userId: 1,
            }),
            headers: {
            'Content-type': 'application/json; charset=UTF-8',
            },
        })
            .then((response) => response.json())
            .then((json) => console.log(json));
        




    //    -------------------Delete all above code---------------------------------------------------------------------------

            //  form data 
        
        document.getElementById("save").addEventListener("click", function (e) {
            e.preventDefault();  // donot referesh the page


            var obj = {
            name : document.getElementById("name-id").value,
            age : document.getElementById("age-id").value,
            salary : document.getElementById("sal-id").value,

        }
        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify(obj),
            headers: {
              'Content-type': 'application/json; charset=UTF-8',
            },
          })
            .then((response) => response.json())
            .then((json) => console.log(json));
          
        })

        
        // ------------------------------------------------------------------------------------------------
        
        document.getElementById("save").addEventListener("click", function (e) {
            e.preventDefault();  // donot referesh the page


        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: new FormData(document.getElementById("myform")),    /// no need to create object
            headers: {
              'Content-type': 'application/json; charset=UTF-8',
            },
          })
            .then((response) => response.json())
            .then((json) => console.log(json));
          
        })

        
        



    </script>

    <div class="container" style="border: 2px solid red; background-color: aliceblue;">
        
        <form action="" id="myform" method="post">
            <input type="text" name="name" placeholder="name" id="name-id"><br>
            <input type="text" name="age" placeholder="age" id="age-id"><br>
            <input type="text" name="sal" placeholder="salary" id="sal-id"><br>
            <input type="submit" value="submit" id="save">
        </form>
    </div>

    
</body>
</html>